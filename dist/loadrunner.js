(function(c){var m=c.document,d=m.getElementsByTagName("script"),e,l=m.createElement("script"),v=[],t={},k;for(var p=0,g;g=d[p];p++){if(g.src.match(/loadrunner\.js(\?|#|$)/)){e=g;break}}function f(i){return Array.prototype.slice.call(i)}function b(s,x){for(var y=0,z;z=s[y];y++){if(x==z){return y}}return -1}function j(){var y=f(arguments),z=[];for(var x=0,s=y.length;x<s;x++){if(y[x].length>0){z.push(y[x].replace(/\/$/,""))}}return z.join("/")}function a(){}a.prototype.then=function(i){if(!this.started){this.started=true;this.start()}if(this.completed){i.apply(this,this.results)}else{this.callbacks=this.callbacks||[];this.callbacks.push(i)}return this};a.prototype.start=function(){};a.prototype.complete=function(){if(!this.completed){this.results=f(arguments);this.completed=true;if(this.callbacks){for(var x=0,s;s=this.callbacks[x];x++){s.apply(window,this.results)}}}};function r(s,i){this.path=s;this.force=!!i}r.loaded=[];r.prototype=new a;r.prototype.start=function(){var x=this,y;if(y=v[this.path]){y.then(function(){x.complete()})}else{if(!this.force&&b(r.loaded,this.path)>-1){this.complete()}else{v[this.path]=x;var s=function(){x.loaded()};var i=l.cloneNode();i.type="text/javascript";i.async=true;i.onload=s;i.onerror=function(){throw new Error(x.path+" not loaded")};i.onreadystatechange=function(){if(b(["loaded","complete"],this.readyState)>-1){this.onreadystatechange=null;s()}};i.src=this.path;d[0].parentNode.insertBefore(i,d[0])}}return this};r.prototype.loaded=function(){delete v[this.path];r.loaded.push(this.path);this.complete()};function w(s,i){this.id=s;this.body=i;if(typeof i=="undefined"){this.path=this.resolvePath(s)}}w.exports={};w.prototype=new r;w.prototype.resolvePath=function(i){return j(n.path,i+".js")};w.prototype.start=function(){var i;if(this.body){this.execute()}else{if(i=w.exports[this.id]){this.complete(i)}else{r.prototype.start.call(this)}}};w.prototype.loaded=function(){var i=this;delete v[this.path];r.loaded.push(this.path);if(k){k.id=this.id;k.then(function(s){k=null;i.complete(s)})}else{throw new Error("Module "+this.id+" was not defined in "+this.path)}};w.prototype.execute=function(){var i=this;if(typeof this.body=="object"){this.exp(this.body)}else{if(typeof this.body=="function"){this.body(function(s){i.exp(s)})}}};w.prototype.exp=function(i){this.complete(this.exports=w.exports[this.id]=i)};function u(i){this.deps=i}u.prototype=new a;u.prototype.start=function(){var y=this;function s(){var B=[];for(var A=0,C;C=y.deps[A];A++){if(!C.completed){return}if(C.results.length>0){B=B.concat(C.results)}}y.complete.apply(y,B)}for(var x=0,z;z=this.deps[x];x++){z.then(s)}return this};function q(){var x=f(arguments),s,i;if(typeof x[0]=="string"){s=x.shift()}i=x.shift();return k=new w(s,i)}function n(){var s=f(arguments),x;if(typeof s[s.length-1]=="function"){x=s.pop()}var i=new u(h(s));if(x){i.then(x)}return i}function h(z){var s=[];for(var x=0,y;y=z[x];x++){if(typeof y=="string"){y=o(y)}s.push(y)}return s}function o(y){var i,x;for(var s in n.matchers){if(i=y.match(s)){x=n.matchers[s](y);return x}}}n.path="";n.matchers={};n.matchers["\\.js$"]=function(i){return new r(i.replace(/^\$/,n.path.replace(/\/$/,"")+"/"))};n.matchers["^[a-zA-Z0-9_\\-\\/]+$"]=function(i){return new w(i)};c.loadrunner={Script:r,Module:w,Combination:u,Dependency:a,using:n,provide:q};c.using=n;c.provide=q;if(e){n.path=e.getAttribute("data-path")||e.src.split(/loadrunner\.js/)[0]||"";if(main=e.getAttribute("data-main")){n.apply(c,main.split(/\s*,\s*/)).then(function(){})}}}(this));