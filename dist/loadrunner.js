(function(a,b){function Q(a){for(var b=0;b<L.bundles.length;b++)for(var c in L.bundles[b])if(c!=a&&w(L.bundles[b][c],a)>-1)return c;return a}function P(){a.using=m,a.provide=n,a.define=o,a.loadrunner=p;return O}function N(a){var b,c;for(var d=0,e;e=L.matchers[d];d++){var f=e[0],g=e[1];if(b=a.match(f))return g(a)}throw new Error(a+" was not recognised by loader")}function M(a){var b=[];for(var c=0,d;d=a[c];c++)typeof d=="string"&&(d=N(d)),v(d)&&(d=new E(M(d))),b.push(d);return b}function L(){var a=u(arguments),b;typeof a[a.length-1]=="function"&&(b=a.pop());var c=new D(M(a));b&&c.then(b);return c}function K(){var a=u(arguments),b=[],c,d;typeof a[0]=="string"&&(c=a.shift()),v(a[0])&&(b=a.shift()),d=a.shift();var e=G(c,function(a){function f(){var c=J(u(b),e),f;typeof d=="function"?f=d.apply(e,c):f=d,typeof f=="undefined"&&(f=e.exports),a(f)}var c=[];for(var g=0,h=b.length;g<h;g++){var i=b[g];w(["require","exports"],i)==-1&&c.push(I(i,e))}c.length>0?L.apply(this,c.concat(f)):f()});return e}function J(a,b){function d(a){return B.exports[I(a,b)]}var c=[];for(var e=0,f=a.length;e<f;e++){if(a[e]=="require"){c.push(d);continue}if(a[e]=="exports"){b.exports=b.exports||{},c.push(b.exports);continue}c.push(d(a[e]))}return c}function I(a,b){var c=b.id||"",d=c.split("/");d.pop();var e=d.join("/");return a.replace(/^\./,e)}function H(){var a=u(arguments),b,c;typeof a[0]=="string"&&(b=a.shift()),c=a.shift();return G(b,c)}function G(a,b){var d;!a&&c&&(d=k||F()),d?(delete l[d.scriptId],d.body=b,d.execute()):(j=d=new B(a,b),i[d.id]=d);return d}function F(){for(var a in d)if(d[a].readyState=="interactive")return l[d[a].id]}function E(a){this.deps=a}function D(a){this.deps=a,this.deps.length==0&&this.complete()}function C(a){var b=[];for(var c=0,d;d=a[c];c++)d instanceof E?b=b.concat(C(d.deps)):d instanceof B&&b.push(d);return b}function B(a,b){this.id=a,this.body=b,typeof b=="undefined"&&(this.path=this.resolvePath(a))}function A(a,b){a&&(this.id=this.path=this.resolvePath(a)),this.force=!!b}function z(){}function y(a,b,c){var d=b.split("/"),e=a;while(d.length>1){var f=d.shift();e=e[f]=e[f]||{}}e[d[0]]=c}function x(){var a=u(arguments),b=[];for(var c=0,d=a.length;c<d;c++)a[c].length>0&&b.push(a[c].replace(/\/$/,""));return b.join("/")}function w(a,b){for(var c=0,d;d=a[c];c++)if(b==d)return c;return-1}function u(a){return Array.prototype.slice.call(a)}function t(a){for(var b=1,c;c=arguments[b];b++)for(var d in c)a[d]=c[d];return a}var c=a.attachEvent&&!a.opera,d=b.getElementsByTagName("script"),e=0,f,g=b.createElement("script"),h={},i={},j,k,l={},m=a.using,n=a.provide,o=a.define,p=a.loadrunner,q={};for(var r=0,s;s=d[r];r++)if(s.src.match(/loadrunner\.js(\?|#|$)/)){f=s;break}var v=Array.isArray||function(a){return a.constructor==Array};z.prototype.then=function(b){var c=this;this.started||(this.started=!0,this.start()),this.completed?b.apply(a,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(b));return this},z.prototype.start=function(){},z.prototype.complete=function(){if(!this.completed){this.results=u(arguments),this.completed=!0;if(this.callbacks)for(var b=0,c;c=this.callbacks[b];b++)c.apply(a,this.results)}},A.loaded=[],A.times={},A.prototype=new z,A.prototype.resolvePath=function(a){return Q(a)},A.prototype.start=function(){var a=this,b,c;if(c=i[this.id]){c.then(function(){a.complete()});return this}(b=h[this.id])?b.then(function(){a.loaded()}):!this.force&&w(A.loaded,this.id)>-1?this.loaded():this.load();return this},A.prototype.createScriptTag=function(){var b=this,c;h[this.id]=b,(c=q[this.path])&&b.then(function(){for(var a=0,b;b=c[a];a++)b.complete.apply(b,arguments)}),this.times={start:new Date};var f=g.cloneNode(!1);this.scriptId=f.id="LR"+ ++e,f.type="text/javascript",f.async=!0,f.onerror=function(){throw new Error(b.path+" not loaded")},f.onreadystatechange=f.onload=function(c){c=a.event||c;if(c.type=="load"||w(["loaded","complete"],this.readyState)>-1)this.onreadystatechange=null,b.loaded()},A.prototype.queueScript=function(){q[this.path]=q[this.path]||[],q[this.path].push(this)},f.src=this.path,k=this,d[0].parentNode.insertBefore(f,d[0]),k=null,l[f.id]=this},A.prototype.load=function(a){L.autoLoad||a?this.createScriptTag():this.queueScript()},A.prototype.loaded=function(){this.complete()},A.prototype.complete=function(){w(A.loaded,this.id)==-1&&A.loaded.push(this.id),this.times&&(A.times[this.id]=t(this.times,{end:new Date})),delete h[this.id],z.prototype.complete.apply(this,arguments)},B.exports={},B.prototype=new A,B.prototype.resolvePath=function(a){return Q(a)!=a?Q(a):x(L.path,a+".js")},B.prototype.start=function(){var a,b,c=this,d;this.body?this.execute():(a=B.exports[this.id])?this.exp(a):(b=i[this.id])?b.then(function(a){c.exp(a)}):(i[this.id]=this,this.load())},B.prototype.loaded=function(){var a,b,d=this;c?(b=B.exports[this.id])?this.exp(b):(a=i[this.id])&&a.then(function(a){d.exp(a)}):(a=j,j=null,a.id=a.id||this.id,a.then(function(a){d.exp(a)}))},B.prototype.complete=function(){delete i[this.id],A.prototype.complete.apply(this,arguments)},B.prototype.execute=function(){var a=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body.apply(window,[function(b){a.exp(b)}])},B.prototype.exp=function(a){this.times&&t(this.times,{eval:new Date}),this.complete(this.exports=B.exports[this.id]=a||{})},D.prototype=new z,D.prototype.start=function(){function b(){var b=[];for(var c=0,d;d=a.deps[c];c++){if(!d.completed)return;d.results.length>0&&(b=b.concat(d.results))}a.complete.apply(a,b)}var a=this;for(var c=0,d;d=this.deps[c];c++)d.then(b);return this},D.prototype.load=function(){for(var a=0,b;b=this.deps[a];a++)b.load&&b.load(!0);return this},D.prototype.as=function(a){var b=this;return this.then(function(){var c=C(b.deps),d={};for(var e=0,f;f=c[e];e++)y(d,f.id,arguments[e]);a.apply(this,[d].concat(u(arguments)))})},E.prototype=new z,E.prototype.start=function(){var a=this,b=0,c=[];(function d(){var e=a.deps[b++];e?e.then(function(a){e.results.length>0&&(c=c.concat(e.results)),d()}):a.complete.apply(a,c)})();return this},E.prototype.load=function(){return this},K.amd={};var O=function(a){return a(L,H,O,K)};O.Script=A,O.Module=B,O.Collection=D,O.Sequence=E,O.Dependency=z,O.noConflict=P,a.loadrunner=O,a.using=L,a.provide=H,a.define=K,L.path="",L.autoLoad=!0,L.bundles=[],L.matchers=[],L.matchers.add=function(a,b){this.unshift([a,b])},L.matchers.add(/(^script!|\.js$)/,function(a){var b=new A(a.replace(/^\$/,L.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);b.id=a;return b}),L.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(a){return new B(a)}),f&&(L.path=f.getAttribute("data-path")||f.src.split(/loadrunner\.js/)[0]||"",(main=f.getAttribute("data-main"))&&L.apply(a,main.split(/\s*,\s*/)).then(function(){}))})(this,document)