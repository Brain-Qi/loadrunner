(function(a,b){function F(a){var b,c;for(var d=0,e;e=D.matchers[d];d++){var f=e[0],g=e[1];if(b=a.match(f))return g(a)}}function E(a){var b=[];for(var c=0,d;d=a[c];c++)typeof d=="string"&&(d=F(d)),p(d)&&(d=new w(E(d))),b.push(d);return b}function D(){var a=o(arguments),b;typeof a[a.length-1]=="function"&&(b=a.pop());var c=new v(E(a));b&&c.then(b);return c}function C(){var a=o(arguments),b=[],c,d;typeof a[0]=="string"&&(c=a.shift()),p(a[0])&&(b=a.shift()),d=a.shift();return y(c,function(a){function f(){var e=B(o(b),c),f;typeof d=="function"?f=d.apply(c,e):f=d,typeof f=="undefined"&&(f=c.exports),a(f)}var c=this,e=[];for(var g=0,h=b.length;g<h;g++){var i=b[g];q(["require","exports"],i)==-1&&e.push(A(i,c))}e.length>0?D.apply(this,e.concat(f)):f()})}function B(a,b){function d(a){return u.exports[A(a,b)]}var c=[];for(var e=0,f=a.length;e<f;e++){if(a[e]=="require"){c.push(d);continue}if(a[e]=="exports"){b.exports=b.exports||{},c.push(b.exports);continue}c.push(d(a[e]))}return c}function A(a,b){var c=b.id||"",d=c.split("/");d.pop();var e=d.join("/");return a.replace(/^\./,e)}function z(){var a=o(arguments),b,c;typeof a[0]=="string"&&(b=a.shift()),c=a.shift();return y(b,c)}function y(a,b){var d;c&&(d=k||x()),d?(delete l[d.scriptId],d.body=b,d.execute()):(j=d=new u(a,b),i[d.id]=d);return d}function x(){for(var a in d)if(d[a].readyState=="interactive")return l[d[a].id]}function w(a){this.deps=a}function v(a){this.deps=a}function u(a,b){this.id=a,this.body=b,typeof b=="undefined"&&(this.path=this.resolvePath(a))}function t(a,b){this.id=this.path=a,this.force=!!b}function s(){}function r(){var a=o(arguments),b=[];for(var c=0,d=a.length;c<d;c++)a[c].length>0&&b.push(a[c].replace(/\/$/,""));return b.join("/")}function q(a,b){for(var c=0,d;d=a[c];c++)if(b==d)return c;return-1}function o(a){return Array.prototype.slice.call(a)}var c=a.attachEvent&&!a.opera,d=b.getElementsByTagName("script"),e=0,f,g=b.createElement("script"),h={},i={},j,k,l={};for(var m=0,n;n=d[m];m++)if(n.src.match(/loadrunner\.js(\?|#|$)/)){f=n;break}var p=Array.isArray||function(a){return a.constructor==Array};s.prototype.then=function(a){this.started||(this.started=!0,this.start()),this.completed?a.apply(this,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(a));return this},s.prototype.start=function(){},s.prototype.complete=function(){if(!this.completed){this.results=o(arguments),this.completed=!0;if(this.callbacks)for(var a=0,b;b=this.callbacks[a];a++)b.apply(this,this.results)}},t.loaded=[],t.prototype=new s,t.prototype.start=function(){var a=this,b;(b=h[this.id])?b.then(function(){a.loaded()}):!this.force&&q(t.loaded,this.id)>-1?this.loaded():this.load();return this},t.prototype.load=function(){var b=this;h[this.id]=b;var c=g.cloneNode(!1);this.scriptId=c.id="LR"+ ++e,c.type="text/javascript",c.async=!0,c.onerror=function(){throw new Error(b.path+" not loaded")},c.onreadystatechange=c.onload=function(c){c=a.event||c;if(c.type=="load"||q(["loaded","complete"],this.readyState)>-1)this.onreadystatechange=null,b.loaded()},c.src=this.path,k=this,d[0].parentNode.insertBefore(c,d[0]),k=null,l[c.id]=this},t.prototype.loaded=function(){this.complete()},t.prototype.complete=function(){q(t.loaded,this.id)==-1&&t.loaded.push(this.id),delete h[this.id],s.prototype.complete.apply(this,arguments)},u.exports={},u.prototype=new t,u.prototype.resolvePath=function(a){return r(D.path,a+".js")},u.prototype.start=function(){var a,b,c=this,d;this.body?this.execute():(a=u.exports[this.id])?this.exp(a):(b=i[this.id])?b.then(function(a){c.exp(a)}):(i[this.id]=this,this.load())},u.prototype.loaded=function(){var a,b=this;c||(a=j,j=null,a.id=a.id||this.id,a.then(function(a){b.exp(a)}))},u.prototype.complete=function(){delete i[this.id],t.prototype.complete.apply(this,arguments)},u.prototype.execute=function(){var a=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body(function(b){a.exp(b)})},u.prototype.exp=function(a){this.complete(this.exports=u.exports[this.id]=a)},v.prototype=new s,v.prototype.start=function(){function b(){var b=[];for(var c=0,d;d=a.deps[c];c++){if(!d.completed)return;d.results.length>0&&(b=b.concat(d.results))}a.complete.apply(a,b)}var a=this;for(var c=0,d;d=this.deps[c];c++)d.then(b);return this},w.prototype=new s,w.prototype.start=function(){var a=this,b=0,c=[];(function d(){var e=a.deps[b++];e?e.then(function(a){e.results.length>0&&c.concat(e.results),d()}):a.complete(c)})();return this},C.amd={},D.path="",D.matchers=[],D.matchers.add=function(a,b){this.push([a,b])},D.matchers.add(/\.js$/,function(a){var b=new t(a.replace(/^\$/,D.path.replace(/\/$/,"")+"/"),!1);b.id=a;return b}),D.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(a){return new u(a)}),a.loadrunner={Script:t,Module:u,Collection:v,Sequence:w,Dependency:s},a.using=D,a.provide=z,a.define=C,f&&(D.path=f.getAttribute("data-path")||f.src.split(/loadrunner\.js/)[0]||"",(main=f.getAttribute("data-main"))&&D.apply(a,main.split(/\s*,\s*/)).then(function(){}))})(this,document)